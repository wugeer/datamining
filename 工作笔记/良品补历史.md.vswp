vnote_backup_file_826537664 D:/doc/learn/工作笔记/良品补历史.md
# 良品补历史
1. 主要是日期更改，涉及到三个脚本，下载邮件，etl存过，模型要货单三个脚本

+ 下载邮件脚本和etl存过的脚本，注意if __name=='__main__':里面的代码和类中def __init__这个函数里面的涉及today和yestoday这两个字段的日期改为对应的日期，建议是注释原来的那行日期代码，赋给诸如'2019-05-01'这样的字符串
+ 模型job.py里面的if __name=='__main__':里面也有一个today字段，这个日期也改为对应的日期就行了，比如跑'2019-05-01'那天的要货单，就把'2019-05-01'赋给那个字段，达到控制日期的目的
+ 在5月5日的时候要补5天的数据，04-30到05-04的历史数据，那么你跑完2019-05-04这天的要货单后，就把上面两步新加的那个日期注释掉，恢复为之前的日期，也就是通过datatime那个模块来获取日期，这样的话，如果之前是先注释那个日期代码，新增一行日期代码的话，在这一步的时候就是把新增的那行代码删掉，恢复原来的日期代码就行了（也就是打开注释），再跑一次就能补2019-05-05这天的要货单了，注意的是再你跑今天的要货单前，需要模型那边把要货单的代码给打开，之前补历史的时候模型 会注释掉。
+ 让客户和之前每天那样，每天的数据一封邮件